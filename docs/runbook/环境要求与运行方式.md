# 环境要求与运行方式

## 1. 环境要求

- Node.js：建议使用 **LTS 版本（20.x 或 22.x）**
- 包管理器：`npm`（与 `package-lock.json` 保持一致）
- OS：Windows/macOS/Linux 均可（以 Node LTS 版本为准）

## 2. 安装与运行

在项目根目录执行：

- 安装依赖：`npm i`
- 本地开发：`npm run dev`
- 类型检查：`npx vue-tsc -b`
- 代码规范：`npm run lint`
- 单元测试：`npm run test`

备注：当前依赖 `rolldown-vite`，部分环境下 `npm run build` 可能会受可选原生依赖影响；如遇到相关报错，优先以 `vue-tsc` 与 `lint` 保证质量，并在 CI 环境验证构建产物。

## 3. 环境变量

通过 Vite 环境变量注入（建议放在 `.env.local`，不要提交到仓库）：

- `VITE_API_BASE_URL`：后端 API 基础地址（示例：`http://localhost:8080`）
- `VITE_USE_MOCK`：是否启用本地 Mock（`true/false`）

## 4. 开发模式 Mock

开发环境下默认启用 Home 的 mock 仓储（避免阻塞 UI 开发）：
- 入口注入位置：`src/main.ts`
- 切换策略：`import.meta.env.DEV`（后续可按团队需要改为显式环境变量开关）
