# 注释规范（强制）

目标：用一致的“文档级/方法级/常量级”注释，让代码在 IDE 与代码评审中可读、可维护、可搜索。

## 1. 强制范围

- `src/**/*.{ts,vue}` 必须满足：
  1) **文档级注释**（文件级，File Overview）
  2) **方法级注释**（函数/方法/用例/工厂函数）
  3) **常量级注释**（导出的常量，如路由表、配置表、错误码表）

该强制通过 ESLint 规则落地（见第 4 节）。

## 2. 文档级注释（File Overview）

每个文件顶部必须包含：

```ts
/**
 * @file 用一句话说明本文件职责与边界
 */
```

要求：
- 只描述“职责/边界”，不写实现细节。
- 文件职责变更时必须同步更新。

## 3. 方法级注释（Function/Method）

要求：
- 对外可调用的函数（尤其是用例 `XxxUseCase`、工厂 `makeXxx`、基础设施 `createXxx`）必须有 JSDoc。
- 必须包含：用途说明、参数、返回值语义；必要时补充错误/副作用。

示例：

```ts
/**
 * 登录用例：校验输入并请求仓储完成登录。
 * @param input 用户名与密码
 * @returns 会话信息（含 token）
 */
async function login(input: { username: string; password: string }): Promise<AuthSession> {
  // ...
}
```

## 4. 常量级注释（Exported Const）

要求：
- `export const`（路由表、配置、常量映射）必须有 JSDoc，说明其用途与约束。

示例：

```ts
/** Home 模块路由定义（只负责声明，不包含业务逻辑）。 */
export const homeRoutes = [/* ... */] as const
```

## 5. ESLint 强制（实现）

本项目通过 ESLint 强制执行上述三类注释：
- 文档级：`jsdoc/require-file-overview`
- 方法级：`jsdoc/require-jsdoc`（函数/方法）
- 常量级：`jsdoc/require-jsdoc`（仅导出的变量声明）

落地文件与命令：
- ESLint 配置：`eslint.config.js`
- 执行：`npm run lint`

