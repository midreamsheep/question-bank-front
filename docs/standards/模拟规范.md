# 模拟规范（Mock）

目标：让 UI 开发与单元测试不依赖真实后端，同时保持可替换、可控、可复用。

## 1. 存放位置

- 每个 feature 的 mock 放在 `src/features/<feature>/mock/`
- mock 必须实现 Domain 层定义的端口（Repository Port），不允许绕过端口直接伪造 UI 数据结构。

## 2. Mock 类型与用途

- **Repository Mock（推荐）**：实现 `domain/ports/*Repository`，用于：
  - 用例单测
  - 本地开发（后端未就绪/接口不稳定）
- **Fixture（可选）**：稳定的样例数据（DTO 或 Domain 实体），用于复用与快照对比。
- **Network Mock（可选）**：如后续使用 MSW，统一放到各 feature 的 `mock/handlers` 或项目级 `infrastructure/mock`（按团队选择）。

## 3. 约束与最佳实践

- mock 数据必须“看起来像真实数据”，但不要包含敏感信息。
- mock 的默认延迟可控（例如 100–300ms），便于验证 loading 状态。
- mock 不应实现复杂业务规则；业务规则应测试在 Domain/Use Case。
- mock 的开关必须在组合根/DI 层完成（如 `features/<feature>/di` 或 `src/main.ts`），Presentation 不得自行切换数据源。

